(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1842],{968:(e,t,s)=>{"use strict";s.d(t,{b:()=>o});var r=s(2115),n=s(3540),a=s(5155),i=r.forwardRef((e,t)=>(0,a.jsx)(n.sG.label,{...e,ref:t,onMouseDown:t=>{var s;t.target.closest("button, input, select, textarea")||(null==(s=e.onMouseDown)||s.call(e,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));i.displayName="Label";var o=i},1275:(e,t,s)=>{"use strict";s.d(t,{X:()=>a});var r=s(2115),n=s(2712);function a(e){let[t,s]=r.useState(void 0);return(0,n.N)(()=>{if(e){s({width:e.offsetWidth,height:e.offsetHeight});let t=new ResizeObserver(t=>{let r,n;if(!Array.isArray(t)||!t.length)return;let a=t[0];if("borderBoxSize"in a){let e=a.borderBoxSize,t=Array.isArray(e)?e[0]:e;r=t.inlineSize,n=t.blockSize}else r=e.offsetWidth,n=e.offsetHeight;s({width:r,height:n})});return t.observe(e,{box:"border-box"}),()=>t.unobserve(e)}s(void 0)},[e]),t}},2712:(e,t,s)=>{"use strict";s.d(t,{N:()=>n});var r=s(2115),n=globalThis?.document?r.useLayoutEffect:()=>{}},4214:(e,t,s)=>{Promise.resolve().then(s.bind(s,6312))},5057:(e,t,s)=>{"use strict";s.d(t,{J:()=>c});var r=s(5155),n=s(2115),a=s(968),i=s(2085),o=s(9434);let l=(0,i.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,r.jsx)(a.b,{ref:t,className:(0,o.cn)(l(),s),...n})});c.displayName=a.b.displayName},5185:(e,t,s)=>{"use strict";function r(e,t,{checkForDefaultPrevented:s=!0}={}){return function(r){if(e?.(r),!1===s||!r.defaultPrevented)return t?.(r)}}s.d(t,{m:()=>r})},5503:(e,t,s)=>{"use strict";s.d(t,{Z:()=>n});var r=s(2115);function n(e){let t=r.useRef({value:e,previous:e});return r.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}},5845:(e,t,s)=>{"use strict";s.d(t,{i:()=>a});var r=s(2115),n=s(9033);function a({prop:e,defaultProp:t,onChange:s=()=>{}}){let[a,i]=function({defaultProp:e,onChange:t}){let s=r.useState(e),[a]=s,i=r.useRef(a),o=(0,n.c)(t);return r.useEffect(()=>{i.current!==a&&(o(a),i.current=a)},[a,i,o]),s}({defaultProp:t,onChange:s}),o=void 0!==e,l=o?e:a,c=(0,n.c)(s);return[l,r.useCallback(t=>{if(o){let s="function"==typeof t?t(e):t;s!==e&&c(s)}else i(t)},[o,e,i,c])]}},6081:(e,t,s)=>{"use strict";s.d(t,{A:()=>i,q:()=>a});var r=s(2115),n=s(5155);function a(e,t){let s=r.createContext(t),a=e=>{let{children:t,...a}=e,i=r.useMemo(()=>a,Object.values(a));return(0,n.jsx)(s.Provider,{value:i,children:t})};return a.displayName=e+"Provider",[a,function(n){let a=r.useContext(s);if(a)return a;if(void 0!==t)return t;throw Error(`\`${n}\` must be used within \`${e}\``)}]}function i(e,t=[]){let s=[],a=()=>{let t=s.map(e=>r.createContext(e));return function(s){let n=s?.[e]||t;return r.useMemo(()=>({[`__scope${e}`]:{...s,[e]:n}}),[s,n])}};return a.scopeName=e,[function(t,a){let i=r.createContext(a),o=s.length;s=[...s,a];let l=t=>{let{scope:s,children:a,...l}=t,c=s?.[e]?.[o]||i,d=r.useMemo(()=>l,Object.values(l));return(0,n.jsx)(c.Provider,{value:d,children:a})};return l.displayName=t+"Provider",[l,function(s,n){let l=n?.[e]?.[o]||i,c=r.useContext(l);if(c)return c;if(void 0!==a)return a;throw Error(`\`${s}\` must be used within \`${t}\``)}]},function(...e){let t=e[0];if(1===e.length)return t;let s=()=>{let s=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let n=s.reduce((t,{useScope:s,scopeName:r})=>{let n=s(e)[`__scope${r}`];return{...t,...n}},{});return r.useMemo(()=>({[`__scope${t.scopeName}`]:n}),[n])}};return s.scopeName=t.scopeName,s}(a,...t)]}},6104:(e,t,s)=>{"use strict";s.d(t,{IG:()=>d,db:()=>c,hJ:()=>u,j2:()=>l,sm:()=>f,yA:()=>o});var r=s(3915),n=s(3004),a=s(5317),i=s(858);let o=(0,r.Dk)().length?(0,r.Sx)():(0,r.Wp)({projectId:"yrdly-coyig",appId:"1:166095077947:web:2f5285213610bbd893521e",storageBucket:"yrdly-coyig.firebasestorage.app",apiKey:"AIzaSyCOE_L6g9c3J6jhcajVzNkC4flEao4Av2I",authDomain:"yrdly-coyig.firebaseapp.com",measurementId:"",messagingSenderId:"166095077947"}),l=(0,n.xI)(o),c=(0,a.aU)(o),d=(0,i.c7)(o),u=new n.HF,f=new n.LD("apple.com")},6312:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>A});var r=s(5155),n=s(2115),a=s(5317),i=s(6104),o=s(8030),l=s(7481),c=s(6695),d=s(5185),u=s(6101),f=s(6081),m=s(5845),p=s(5503),h=s(1275),x=s(3540),v="Switch",[g,y]=(0,f.A)(v),[j,b]=g(v),N=n.forwardRef((e,t)=>{let{__scopeSwitch:s,name:a,checked:i,defaultChecked:o,required:l,disabled:c,value:f="on",onCheckedChange:p,form:h,...v}=e,[g,y]=n.useState(null),b=(0,u.s)(t,e=>y(e)),N=n.useRef(!1),w=!g||h||!!g.closest("form"),[k=!1,E]=(0,m.i)({prop:i,defaultProp:o,onChange:p});return(0,r.jsxs)(j,{scope:s,checked:k,disabled:c,children:[(0,r.jsx)(x.sG.button,{type:"button",role:"switch","aria-checked":k,"aria-required":l,"data-state":C(k),"data-disabled":c?"":void 0,disabled:c,value:f,...v,ref:b,onClick:(0,d.m)(e.onClick,e=>{E(e=>!e),w&&(N.current=e.isPropagationStopped(),N.current||e.stopPropagation())})}),w&&(0,r.jsx)(S,{control:g,bubbles:!N.current,name:a,value:f,checked:k,required:l,disabled:c,form:h,style:{transform:"translateX(-100%)"}})]})});N.displayName=v;var w="SwitchThumb",k=n.forwardRef((e,t)=>{let{__scopeSwitch:s,...n}=e,a=b(w,s);return(0,r.jsx)(x.sG.span,{"data-state":C(a.checked),"data-disabled":a.disabled?"":void 0,...n,ref:t})});k.displayName=w;var S=e=>{let{control:t,checked:s,bubbles:a=!0,...i}=e,o=n.useRef(null),l=(0,p.Z)(s),c=(0,h.X)(t);return n.useEffect(()=>{let e=o.current,t=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(l!==s&&t){let r=new Event("click",{bubbles:a});t.call(e,s),e.dispatchEvent(r)}},[l,s,a]),(0,r.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:s,...i,tabIndex:-1,ref:o,style:{...e.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function C(e){return e?"checked":"unchecked"}var E=s(9434);let R=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,r.jsx)(N,{className:(0,E.cn)("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",s),...n,ref:t,children:(0,r.jsx)(k,{className:(0,E.cn)("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})})});R.displayName=N.displayName;var T=s(5057),I=s(8856);function A(){var e,t,s,d,u,f;let{user:m}=(0,o.A)(),{toast:p}=(0,l.dj)(),[h,x]=(0,n.useState)(null),[v,g]=(0,n.useState)(!0);(0,n.useEffect)(()=>{if(!m)return;let e=(0,a.H9)(i.db,"users",m.uid),t=(0,a.aQ)(e,e=>{let t=e.data();t&&t.notificationSettings?x(t.notificationSettings):x({friendRequests:!0,messages:!0,postUpdates:!0,comments:!0,postLikes:!0,eventInvites:!0}),g(!1)});return()=>t()},[m]);let y=async(e,t)=>{if(!m||!h)return;let s={...h,[e]:t};x(s);try{let e=(0,a.H9)(i.db,"users",m.uid);await (0,a.mZ)(e,{notificationSettings:s}),p({title:"Settings updated successfully."})}catch(e){p({variant:"destructive",title:"Error",description:"Failed to update settings."}),x(h)}};return v?(0,r.jsxs)(c.Zp,{className:"max-w-2xl mx-auto",children:[(0,r.jsxs)(c.aR,{children:[(0,r.jsx)(c.ZB,{children:"Notification Settings"}),(0,r.jsx)(c.BT,{children:"Manage how you receive notifications."})]}),(0,r.jsx)(c.Wu,{className:"space-y-6",children:[void 0,void 0,void 0,void 0,void 0].map((e,t)=>(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)(I.E,{className:"h-5 w-48"}),(0,r.jsx)(I.E,{className:"h-6 w-12"})]},t))})]}):(0,r.jsxs)(c.Zp,{className:"max-w-2xl mx-auto",children:[(0,r.jsxs)(c.aR,{children:[(0,r.jsx)(c.ZB,{children:"Notification Settings"}),(0,r.jsx)(c.BT,{children:"Manage how you receive notifications from Yrdly."})]}),(0,r.jsxs)(c.Wu,{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)(T.J,{htmlFor:"friendRequests",className:"flex flex-col space-y-1",children:[(0,r.jsx)("span",{children:"Friend Requests"}),(0,r.jsx)("span",{className:"text-sm text-muted-foreground",children:"Notify me about new friend requests and acceptances."})]}),(0,r.jsx)(R,{id:"friendRequests",checked:null==(e=null==h?void 0:h.friendRequests)||e,onCheckedChange:e=>y("friendRequests",e)})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)(T.J,{htmlFor:"messages",className:"flex flex-col space-y-1",children:[(0,r.jsx)("span",{children:"New Messages"}),(0,r.jsx)("span",{className:"text-sm text-muted-foreground",children:"Notify me when I receive a new message."})]}),(0,r.jsx)(R,{id:"messages",checked:null==(t=null==h?void 0:h.messages)||t,onCheckedChange:e=>y("messages",e)})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)(T.J,{htmlFor:"postUpdates",className:"flex flex-col space-y-1",children:[(0,r.jsx)("span",{children:"New Posts"}),(0,r.jsx)("span",{className:"text-sm text-muted-foreground",children:"Notify me about new posts in my neighborhood."})]}),(0,r.jsx)(R,{id:"postUpdates",checked:null==(s=null==h?void 0:h.postUpdates)||s,onCheckedChange:e=>y("postUpdates",e)})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)(T.J,{htmlFor:"comments",className:"flex flex-col space-y-1",children:[(0,r.jsx)("span",{children:"Post Comments & Replies"}),(0,r.jsx)("span",{className:"text-sm text-muted-foreground",children:"Notify me when someone comments on my posts."})]}),(0,r.jsx)(R,{id:"comments",checked:null==(d=null==h?void 0:h.comments)||d,onCheckedChange:e=>y("comments",e)})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)(T.J,{htmlFor:"postLikes",className:"flex flex-col space-y-1",children:[(0,r.jsx)("span",{children:"Post Likes"}),(0,r.jsx)("span",{className:"text-sm text-muted-foreground",children:"Notify me when someone likes my post."})]}),(0,r.jsx)(R,{id:"postLikes",checked:null==(u=null==h?void 0:h.postLikes)||u,onCheckedChange:e=>y("postLikes",e)})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)(T.J,{htmlFor:"eventInvites",className:"flex flex-col space-y-1",children:[(0,r.jsx)("span",{children:"Event Invitations"}),(0,r.jsx)("span",{className:"text-sm text-muted-foreground",children:"Notify me when I'm invited to an event."})]}),(0,r.jsx)(R,{id:"eventInvites",checked:null==(f=null==h?void 0:h.eventInvites)||f,onCheckedChange:e=>y("eventInvites",e)})]})]})]})}},6695:(e,t,s)=>{"use strict";s.d(t,{BT:()=>c,Wu:()=>d,ZB:()=>l,Zp:()=>i,aR:()=>o,wL:()=>u});var r=s(5155),n=s(2115),a=s(9434);let i=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,r.jsx)("div",{ref:t,className:(0,a.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",s),...n})});i.displayName="Card";let o=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,r.jsx)("div",{ref:t,className:(0,a.cn)("flex flex-col space-y-1.5 p-6",s),...n})});o.displayName="CardHeader";let l=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,r.jsx)("div",{ref:t,className:(0,a.cn)("text-2xl font-semibold leading-none tracking-tight",s),...n})});l.displayName="CardTitle";let c=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,r.jsx)("div",{ref:t,className:(0,a.cn)("text-sm text-muted-foreground",s),...n})});c.displayName="CardDescription";let d=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,r.jsx)("div",{ref:t,className:(0,a.cn)("p-6 pt-0",s),...n})});d.displayName="CardContent";let u=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,r.jsx)("div",{ref:t,className:(0,a.cn)("flex items-center p-6 pt-0",s),...n})});u.displayName="CardFooter"},7481:(e,t,s)=>{"use strict";s.d(t,{dj:()=>f});var r=s(2115);let n=0,a=new Map,i=e=>{if(a.has(e))return;let t=setTimeout(()=>{a.delete(e),d({type:"REMOVE_TOAST",toastId:e})},1e6);a.set(e,t)},o=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:s}=t;return s?i(s):e.toasts.forEach(e=>{i(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===s||void 0===s?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},l=[],c={toasts:[]};function d(e){c=o(c,e),l.forEach(e=>{e(c)})}function u(e){let{...t}=e,s=(n=(n+1)%Number.MAX_SAFE_INTEGER).toString(),r=()=>d({type:"DISMISS_TOAST",toastId:s});return d({type:"ADD_TOAST",toast:{...t,id:s,open:!0,onOpenChange:e=>{e||r()}}}),{id:s,dismiss:r,update:e=>d({type:"UPDATE_TOAST",toast:{...e,id:s}})}}function f(){let[e,t]=r.useState(c);return r.useEffect(()=>(l.push(t),()=>{let e=l.indexOf(t);e>-1&&l.splice(e,1)}),[e]),{...e,toast:u,dismiss:e=>d({type:"DISMISS_TOAST",toastId:e})}}},8030:(e,t,s)=>{"use strict";s.d(t,{A:()=>d,AuthProvider:()=>c});var r=s(5155),n=s(2115),a=s(3004),i=s(6104),o=s(5317);let l=(0,n.createContext)({user:null,userDetails:null,loading:!0,pendingRequestCount:0}),c=e=>{let{children:t}=e,[s,c]=(0,n.useState)(null),[d,u]=(0,n.useState)(null),[f,m]=(0,n.useState)(!0),[p,h]=(0,n.useState)(0);return(0,n.useEffect)(()=>{let e=(0,a.hg)(i.j2,e=>{if(c(e),e){let t=(0,o.H9)(i.db,"users",e.uid),s=(0,o.aQ)(t,e=>{e.exists()?u({id:e.id,...e.data()}):u(null),m(!1)}),r=(0,o.P)((0,o.rJ)(i.db,"friend_requests"),(0,o._M)("toUserId","==",e.uid),(0,o._M)("status","==","pending")),n=(0,o.aQ)(r,e=>{h(e.size)});return()=>{s(),n()}}u(null),h(0),m(!1)});return()=>e()},[]),(0,r.jsx)(l.Provider,{value:{user:s,userDetails:d,loading:f,pendingRequestCount:p},children:t})},d=()=>(0,n.useContext)(l)},8856:(e,t,s)=>{"use strict";s.d(t,{E:()=>a});var r=s(5155),n=s(9434);function a(e){let{className:t,...s}=e;return(0,r.jsx)("div",{className:(0,n.cn)("animate-pulse rounded-md bg-muted",t),...s})}},9033:(e,t,s)=>{"use strict";s.d(t,{c:()=>n});var r=s(2115);function n(e){let t=r.useRef(e);return r.useEffect(()=>{t.current=e}),r.useMemo(()=>(...e)=>t.current?.(...e),[])}},9434:(e,t,s)=>{"use strict";s.d(t,{cn:()=>a,f:()=>i});var r=s(2596),n=s(9688);function a(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,n.QP)((0,r.$)(t))}function i(e){if(!e)return"just now";let t=Math.floor((new Date().getTime()-e.getTime())/1e3),s=t/31536e3;return s>1?Math.floor(s)+" years ago":(s=t/2592e3)>1?Math.floor(s)+" months ago":(s=t/86400)>1?Math.floor(s)+" days ago":(s=t/3600)>1?Math.floor(s)+" hours ago":(s=t/60)>1?Math.floor(s)+" minutes ago":Math.floor(t)+" seconds ago"}}},e=>{var t=t=>e(e.s=t);e.O(0,[2992,3644,3340,3504,8441,1684,7358],()=>t(4214)),_N_E=e.O()}]);